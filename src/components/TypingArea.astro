---

---

<section class="relative flex flex-col w-full h-full">
  <span
    id="quote-guide"
    class="flex text-3xl/10 w-full h-[60%] text-white/70 text-center items-center justify-center text-balance"
  ></span>
  <div
    id="quote-write"
    class="absolute flex text-3xl/10 w-full h-[60%] left-0 text-center items-center justify-center text-balance"
  >
  </div>
</section>

<script type="module">
  async function getQuotes() {
    const response = await fetch(
      "https://quoteslate.vercel.app/api/quotes/random?minLength=200&maxLength=400"
    );
    const data = await response.json();
    console.log(data);
    return data;
  }

  const responseText = await getQuotes();

  const quoteGuide = document.getElementById("quote-guide");
  const quoteWrite = document.getElementById("quote-write");
  if (quoteGuide && quoteWrite) {
    quoteGuide.textContent = `${responseText.quote}`;
    quoteWrite.textContent = ``;
  }

  const quoteLetters = [];

  quoteLetters.push(responseText.quote);

  const separatedLetters = quoteLetters.map((letters) => {
    return letters.split("");
  });

  let currentIndex = 0;
  const specialKeys = [
    "Shift",
    "Control",
    "Alt",
    "Meta",
    "CapsLock",
    "Tab",
    "ArrowUp",
    "ArrowDown",
    "ArrowLeft",
    "ArrowRight",
    "Escape",
    "Enter",
    "Delete",
    "Home",
    "End",
    "PageUp",
    "PageDown",
    "F1",
    "F2",
    "F3",
    "F4",
    "F5",
    "F6",
    "F7",
    "F8",
    "F9",
    "F10",
    "F11",
    "F12",
  ];

  document.addEventListener("keydown", (e) => {
    const text = document.createElement("div");
    if (specialKeys.includes(e.key)) return;
    if (e.key != null) {
      separatedLetters.forEach((letter) => {
        const letterUpdated = letter[currentIndex++];
        if (letterUpdated === e.key) {
          text.textContent = `${letterUpdated}`;
          quoteWrite.appendChild(text);
        }  else {
          quoteWrite.textContent = `error`;
        }
      });
      console.log(e.key);
    }
  });
</script>
